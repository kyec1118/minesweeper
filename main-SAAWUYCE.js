import{$ as Fe,A as Q,B as tt,C as ee,D as te,E as nt,F as we,G as it,H as B,I as rt,J as Ae,K as U,L as D,M as f,N as ot,O as st,P as ne,Q as ie,R as at,S as O,T as N,U as k,V as re,W as lt,X as oe,Y as se,Z as Ve,_ as Se,a as C,aa as l,b as V,ba as u,ca as ae,d as Ze,da as ut,e as Ye,ea as M,f as Ke,fa as P,g as R,ga as c,h as K,ha as $,i as g,ia as le,j as X,ja as ue,k as w,ka as ce,l as h,la as de,m as y,ma as _,n as L,na as ct,o as x,oa as dt,p as v,pa as ht,q as J,qa as ft,r as T,ra as j,s as De,sa as pt,t as Xe,ta as mt,u as Je,ua as E,v as be,va as gt,w as Me,wa as yt,x as Qe,xa as Ie,y as et,ya as vt,z as Ee}from"./chunk-S3M25DIO.js";var Ne=class extends mt{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Pe=class n extends Ne{static makeCurrent(){pt(new n)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=tn();return e==null?null:nn(e)}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return gt(document.cookie,t)}},W=null;function tn(){return W=W||document.querySelector("base"),W?W.getAttribute("href"):null}function nn(n){return new URL(n,document.baseURI).pathname}var rn=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})(),Re=new w(""),Dt=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new R(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(h(Re),h(O))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})(),he=class{constructor(t){this._doc=t}},Te="ng-app-id",bt=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ie(o),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Te}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){let r=this.styleRef;if(r.has(e)){let o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(Te),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Te,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){let r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(h(E),h(we),h(Ae,8),h(B))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})(),Oe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ke=/%COMP%/g,Mt="%COMP%",on=`_nghost-${Mt}`,sn=`_ngcontent-${Mt}`,an=!0,ln=new w("",{providedIn:"root",factory:()=>an});function un(n){return sn.replace(ke,n)}function cn(n){return on.replace(ke,n)}function Et(n,t){return t.map(e=>e.replace(ke,n))}var fe=(()=>{class n{constructor(e,i,r,o,s,a,d,m=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=d,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=Ie(a),this.defaultRenderer=new z(e,s,d,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===L.ShadowDom&&(i=V(C({},i),{encapsulation:L.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof pe?r.applyToHost(e):r instanceof q&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,d=this.eventManager,m=this.sharedStylesHost,F=this.removeStylesOnCompDestroy,I=this.platformIsServer;switch(i.encapsulation){case L.Emulated:o=new pe(d,m,i,this.appId,F,s,a,I);break;case L.ShadowDom:return new xe(d,m,e,i,s,a,this.nonce,I);default:o=new q(d,m,i,F,s,a,I);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(h(Dt),h(bt),h(we),h(ln),h(E),h(B),h(O),h(Ae))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})(),z=class{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Oe[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(_t(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(_t(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new R(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let o=Oe[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=Oe[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(U.DashCase|U.Important)?t.style.setProperty(e,i,r&U.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&U.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if(typeof t=="string"&&(t=j().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function _t(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var xe=class extends z{constructor(t,e,i,r,o,s,a,d){super(t,o,s,d),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=Et(r.id,r.styles);for(let F of m){let I=document.createElement("style");a&&I.setAttribute("nonce",a),I.textContent=F,this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},q=class extends z{constructor(t,e,i,r,o,s,a,d){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=d?Et(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},pe=class extends q{constructor(t,e,i,r,o,s,a,d){let m=r+"-"+i.id;super(t,e,i,o,s,a,d,m),this.contentAttr=un(m),this.hostAttr=cn(m)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}},dn=(()=>{class n extends he{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(h(E))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})(),Ct=["alt","control","meta","shift"],hn={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},pn=(()=>{class n extends he{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r){let o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>j().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Ct.forEach(m=>{let F=i.indexOf(m);F>-1&&(i.splice(F,1),s+=m+".")}),s+=o,i.length!=0||o.length===0)return null;let d={};return d.domEventName=r,d.fullKey=s,d}static matchEventFullKeyCode(e,i){let r=hn[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Ct.forEach(s=>{if(s!==r){let a=fn[s];a(e)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(h(E))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})();function wt(n,t){return ht(C({rootComponent:n},mn(t)))}function mn(n){return{appProviders:[...Cn,...n?.providers??[]],platformProviders:_n}}function gn(){Pe.makeCurrent()}function yn(){return new Ee}function vn(){return nt(document),document}var _n=[{provide:B,useValue:yt},{provide:it,useValue:gn,multi:!0},{provide:E,useFactory:vn,deps:[]}];var Cn=[{provide:Xe,useValue:"root"},{provide:Ee,useFactory:yn,deps:[]},{provide:Re,useClass:dn,multi:!0,deps:[E,O,B]},{provide:Re,useClass:pn,multi:!0,deps:[E]},fe,bt,Dt,{provide:ne,useExisting:fe},{provide:vt,useClass:rn,deps:[]},[]];var Dn="@",bn=(()=>{class n{constructor(e,i,r,o,s){this.doc=e,this.delegate=i,this.zone=r,this.animationType=o,this.moduleImpl=s,this._rendererFactoryPromise=null,this.scheduler=y(st,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-U65YSV2Q.js")).catch(i=>{throw new R(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:r})=>{this._engine=i(this.animationType,this.doc,this.scheduler);let o=new r(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(e,i){let r=this.delegate.createRenderer(e,i);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new je(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(e,i);o.use(a)}).catch(s=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){ot()}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})(),je=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,r){this.delegate.insertBefore(t,e,i,r)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,i)),this.delegate.listen(t,e,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(Dn)}};function At(n="animations"){return at("NgAsyncAnimations"),De([{provide:ne,useFactory:(t,e,i)=>new bn(t,e,i,n),deps:[E,fe,O]},{provide:rt,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Vt={providers:[At()]};var p=function(n){return n[n.HIDDEN=0]="HIDDEN",n[n.REVEALED=1]="REVEALED",n[n.FLAGGED=2]="FLAGGED",n}(p||{});var b=function(n){return n[n.NOT_STARTED=0]="NOT_STARTED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.WON=2]="WON",n[n.LOST=3]="LOST",n}(b||{}),He={EASY:{rows:8,columns:8,mines:10},MEDIUM:{rows:16,columns:16,mines:40},HARD:{rows:20,columns:20,mines:99}};var S=(()=>{class n{constructor(){this._difficulty="MEDIUM",this._timer=null,this.hasStarted=!1,this.emojiList=["\u{1FAE8}","\u{1F616}","\u{1F978}","\u{1F62B}","\u{1F914}","\u{1F92F}"],this.gameStatus=N(b.NOT_STARTED),this._currentEmoji=N("\u{1F642}"),this._gameTime=N(0),this._cells=N([]);let e=He[this._difficulty];this.rows=e.rows,this.columns=e.columns,this.mines=e.mines}get cells(){return this._cells}get gameTime(){return this._gameTime}get difficulty(){return this._difficulty}get currentEmoji(){return this._currentEmoji}setDifficulty(e){this._difficulty=e;let i=He[e];this.rows=i.rows,this.columns=i.columns,this.mines=i.mines,this.startGame(),console.log(`Difficulty set to ${e}: ${this.rows}x${this.columns} with ${this.mines} mines`)}startGame(){this._gameTime.set(0),this.stopTimer();let e=[];for(let r=0;r<this.rows;r++){let o=[];for(let s=0;s<this.columns;s++)o.push(this.generateNewCell(r,s));e.push(o)}console.log("board initialized");let i=0;for(;i<this.mines;){let{x:r,y:o}=this.generateMinePosition();e[r][o].isMine||(e[r][o].isMine=!0,i++)}console.log(`${this.mines} mines placed on the board`),this._cells.set(e);for(let r=0;r<this.rows;r++)for(let o=0;o<this.columns;o++)e[r][o].isMine||(e[r][o].adjacentMines=this.countAdjacentMines(r,o));this.gameStatus.set(b.IN_PROGRESS),this.hasStarted&&(this.hasStarted=!1),console.log("Game started with the following board:"),console.table(this.cells().forEach(r=>{let o=r.map(s=>s.isMine?"\u{1F4A3}":s.adjacentMines===0?" ":s.adjacentMines.toString()).join(" ");console.log(o)}))}revealCell(e){if(console.log("hasSTarted flag: ",this.hasStarted),this.hasStarted||(this.hasStarted=!0,this.startTimer(),console.log("toggled start game to true")),this.gameStatus()!==b.IN_PROGRESS)throw new Error("Game is not in progress");if(e.status!==p.REVEALED){if(e.status=p.REVEALED,e.isMine){this.stopTimer(),this.gameStatus.set(b.LOST),this.revealMines(),console.log("Game Over! You hit a mine.");return}else e.adjacentMines===0&&this.expandCell(e.x,e.y);this.gameIsWon()&&(this.stopTimer(),this.gameStatus.set(b.WON))}}flagCell(e){if(this.gameStatus()!==b.IN_PROGRESS)throw new Error("Game is not in progress");switch(e.status){case p.REVEALED:return;case p.HIDDEN:e.status=p.FLAGGED;break;case p.FLAGGED:e.status=p.HIDDEN;break}this.gameIsWon()&&(this.stopTimer(),this.gameStatus.set(b.WON))}getCell(e,i){if(e<0||i<0||e>=this.rows||i>=this.columns)throw new Error("Cell coordinates out of bounds");return this.cells()[e][i]}generateNewCell(e,i){return{x:e,y:i,isMine:!1,adjacentMines:0,status:p.HIDDEN}}generateMinePosition(){let e=Math.floor(Math.random()*this.rows),i=Math.floor(Math.random()*this.columns);return{x:e,y:i}}countAdjacentMines(e,i){let r=0;for(let o=e-1;o<=e+1;o++)for(let s=i-1;s<=i+1;s++)o<0||s<0||o>=this.rows||s>=this.columns||o===e&&s===i||this.cells()[o][s].isMine&&r++;return r}expandCell(e,i){for(let r=e-1;r<=e+1;r++)if(!(r<0||r>=this.rows))for(let o=i-1;o<=i+1;o++){if(o<0||o>=this.columns)continue;let s=this.getCell(r,o);s.status===p.HIDDEN&&s.adjacentMines!==0?s.status=p.REVEALED:this.revealCell(s)}}revealMines(){this.cells().flat().forEach(e=>{e.isMine&&(e.status=p.REVEALED)})}gameIsWon(){return this.cells().flat().every(e=>!e.isMine&&e.status===p.REVEALED)}startTimer(){this._timer=setInterval(()=>{this._gameTime.update(e=>e+1)},1e3)}stopTimer(){this._timer&&(clearInterval(this._timer),this._timer=null)}setRandomEmoji(){console.log("Setting random emoji");let e=this.emojiList[Math.floor(Math.random()*this.emojiList.length)];this._currentEmoji.set(e),console.log("Current emoji set to:",e)}setEmoji(e){this._currentEmoji.set(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Mn(n,t){n&1&&c(0," \u{1F6A9} ")}function En(n,t){n&1&&c(0," \xA0")}function wn(n,t){n&1&&c(0," \u{1F4A3} ")}function An(n,t){if(n&1&&c(0),n&2){let e=P();$(" ",e.cell().adjacentMines," ")}}function Vn(n,t){n&1&&c(0," \xA0 ")}var St=(()=>{class n{constructor(){this.gameService=y(S),this.cell=tt.required(),this.cellClicked=Q(),this.cellFlagged=Q(),this.cellPressed=Q(),this.CellStatusType=p,this.wasLongPress=!1,this.isPressed=N(!1)}onMouseDown(){this.isPressed.set(!0),this.cellPressed.emit(!0),this.gameService.setRandomEmoji()}onMouseUp(){this.isPressed.set(!1),this.cellPressed.emit(!1),this.gameService.setEmoji("\u{1F914}")}onMouseLeave(){this.isPressed.set(!1),this.cellPressed.emit(!1)}onCellClick(){this.cellClicked.emit(this.cell())}onRightClick(e){e.preventDefault(),this.cellFlagged.emit(this.cell())}onTouchStart(e){this.wasLongPress=!1,this.gameService.setRandomEmoji(),this.longPressTimeout=setTimeout(()=>{this.wasLongPress=!0,this.cellFlagged.emit(this.cell()),this.isPressed.set(!1)},600),this.isPressed.set(!0),e?.preventDefault()}onTouchEnd(){clearTimeout(this.longPressTimeout),this.wasLongPress||this.onCellClick(),this.isPressed.set(!1),this.gameService.setEmoji("\u{1F914}")}onTouchCancel(){clearTimeout(this.longPressTimeout),this.isPressed.set(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=v({type:n,selectors:[["app-cell"]],inputs:{cell:[x.SignalBased,"cell"]},outputs:{cellClicked:"cellClicked",cellFlagged:"cellFlagged",cellPressed:"cellPressed"},standalone:!0,features:[_],decls:6,vars:21,consts:[[1,"cell",3,"mousedown","mouseup","mouseleave","click","contextmenu","touchstart","touchend","touchcancel"]],template:function(i,r){i&1&&(l(0,"div",0),M("mousedown",function(){return r.onMouseDown()})("mouseup",function(){return r.onMouseUp()})("mouseleave",function(){return r.onMouseLeave()})("click",function(){return r.onCellClick()})("contextmenu",function(s){return r.onRightClick(s)})("touchstart",function(s){return r.onTouchStart(s)})("touchend",function(){return r.onTouchEnd()})("touchcancel",function(){return r.onTouchCancel()}),re(1,Mn,1,0)(2,En,1,0)(3,wn,1,0)(4,An,1,1)(5,Vn,1,0),u()),i&2&&(oe("pressed",r.isPressed())("hidden",r.cell().status===r.CellStatusType.HIDDEN)("revealed",r.cell().status===r.CellStatusType.REVEALED)("flagged",r.cell().status===r.CellStatusType.FLAGGED)("mine",r.cell().isMine&&r.cell().status===r.CellStatusType.REVEALED)("empty",r.cell().adjacentMines===0&&!r.cell().isMine&&r.cell().status===r.CellStatusType.REVEALED)("adj-1",r.cell().adjacentMines===1)("adj-2",r.cell().adjacentMines===2)("adj-3",r.cell().adjacentMines===3)("adj-4",r.cell().adjacentMines===4),D(),se(1,r.cell().status===r.CellStatusType.FLAGGED?1:r.cell().status===r.CellStatusType.HIDDEN?2:r.cell().isMine?3:r.cell().adjacentMines>0?4:5))},styles:[".cell[_ngcontent-%COMP%]{font-family:mine-sweeper;box-sizing:border-box;width:1.5rem;height:1.5rem;display:grid;place-items:center;-webkit-user-select:none;user-select:none;cursor:pointer;border:3px solid;border-top-color:#fff;border-right-color:#7b7b7b;border-bottom-color:#7b7b7b;border-left-color:#fff;background-color:#bdbdbd}.cell.pressed[_ngcontent-%COMP%]{background-color:#ccc;transform:translateY(2px);transition:none}.cell.revealed[_ngcontent-%COMP%]{background-color:#e0e0e0;border:1px solid;border-color:#ccc;cursor:default}.cell.mine[_ngcontent-%COMP%]{color:#000;background-color:#faa}.cell.empty[_ngcontent-%COMP%]{background-color:#e0e0e0;color:transparent}.cell.adj-1[_ngcontent-%COMP%]{color:#00f}.cell.adj-2[_ngcontent-%COMP%]{color:green}.cell.adj-3[_ngcontent-%COMP%]{color:red}.cell.adj-4[_ngcontent-%COMP%]{color:#00008b}"]})}}return n})();function Sn(n,t){if(n&1){let e=ut();l(0,"app-cell",3),M("cellClicked",function(r){be(e);let o=P(2);return Me(o.onCellClick(r))})("cellFlagged",function(r){be(e);let o=P(2);return Me(o.onCellFlagged(r))}),u()}if(n&2){let e=t.$implicit;lt("cell",e)}}function Fn(n,t){if(n&1&&(l(0,"div",1),Se(1,Sn,1,1,"app-cell",2,Ve),u()),n&2){let e=t.$implicit;D(),Fe(e)}}var Ft=(()=>{class n{constructor(){this.gameService=y(S),this.cells=this.gameService.cells}ngOnInit(){this.gameService.startGame()}onCellClick(e){console.log("Cell clicked",e),this.gameService.revealCell(e)}onCellFlagged(e){this.gameService.flagCell(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=v({type:n,selectors:[["app-board"]],standalone:!0,features:[_],decls:3,vars:0,consts:[[1,"board"],[1,"row"],[3,"cell"],[3,"cellClicked","cellFlagged","cell"]],template:function(i,r){i&1&&(l(0,"div",0),Se(1,Fn,3,0,"div",1,Ve),u()),i&2&&(D(),Fe(r.cells()))},dependencies:[St],styles:[".board[_ngcontent-%COMP%]{background-color:#bdbdbd;width:fit-content;border:3px solid;border-bottom-color:#fff;border-left-color:#7b7b7b;border-top-color:#7b7b7b;border-right-color:#fff}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}"]})}}return n})();var It=(()=>{class n{constructor(){this.gameService=y(S)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=v({type:n,selectors:[["app-header"]],standalone:!0,features:[_],decls:2,vars:0,template:function(i,r){i&1&&(l(0,"h1"),c(1,"Minesweeper"),u())},styles:["h1[_ngcontent-%COMP%]{font-family:mine-sweeper}"]})}}return n})();var jt=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(f(ie),f(ee))}}static{this.\u0275dir=T({type:n})}}return n})(),Ht=(()=>{class n extends jt{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Qe(n)))(r||n)}})()}static{this.\u0275dir=T({type:n,features:[k]})}}return n})(),$e=new w("");var In={provide:$e,useExisting:K(()=>ve),multi:!0};function Tn(){let n=j()?j().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var On=new w(""),ve=(()=>{class n extends jt{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Tn())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(f(ie),f(ee),f(On,8))}}static{this.\u0275dir=T({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&M("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[de([In]),k]})}}return n})();var Nn=new w(""),Pn=new w("");function Gt(n){return n!=null}function Lt(n){return ct(n)?Ze(n):n}function Bt(n){let t={};return n.forEach(e=>{t=e!=null?C(C({},t),e):t}),Object.keys(t).length===0?null:t}function Ut(n,t){return t.map(e=>e(n))}function Rn(n){return!n.validate}function $t(n){return n.map(t=>Rn(t)?t:e=>t.validate(e))}function xn(n){if(!n)return null;let t=n.filter(Gt);return t.length==0?null:function(e){return Bt(Ut(e,t))}}function Wt(n){return n!=null?xn($t(n)):null}function kn(n){if(!n)return null;let t=n.filter(Gt);return t.length==0?null:function(e){let i=Ut(e,t).map(Lt);return Ke(i).pipe(Ye(Bt))}}function zt(n){return n!=null?kn($t(n)):null}function Tt(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function jn(n){return n._rawValidators}function Hn(n){return n._rawAsyncValidators}function Ge(n){return n?Array.isArray(n)?n:[n]:[]}function ge(n,t){return Array.isArray(n)?n.includes(t):n===t}function Ot(n,t){let e=Ge(t);return Ge(n).forEach(r=>{ge(e,r)||e.push(r)}),e}function Nt(n,t){return Ge(t).filter(e=>!ge(n,e))}var ye=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Wt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Le=class extends ye{get formDirective(){return null}get path(){return null}},G=class extends ye{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Be=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Gn={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xr=V(C({},Gn),{"[class.ng-submitted]":"isSubmitted"}),qt=(()=>{class n extends Be{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(f(G,2))}}static{this.\u0275dir=T({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&oe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[k]})}}return n})();var Z="VALID",me="INVALID",H="PENDING",Y="DISABLED";function Ln(n){return(_e(n)?n.validators:n)||null}function Bn(n){return Array.isArray(n)?Wt(n):n||null}function Un(n,t){return(_e(t)?t.asyncValidators:n)||null}function $n(n){return Array.isArray(n)?zt(n):n||null}function _e(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var Ue=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Z}get invalid(){return this.status===me}get pending(){return this.status==H}get disabled(){return this.status===Y}get enabled(){return this.status!==Y}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ot(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ot(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Nt(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Nt(t,this._rawAsyncValidators))}hasValidator(t){return ge(this._rawValidators,t)}hasAsyncValidator(t){return ge(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=H,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Y,this.errors=null,this._forEachChild(i=>{i.disable(V(C({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(V(C({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Z,this._forEachChild(i=>{i.enable(V(C({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(V(C({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Z||this.status===H)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Y:Z}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=H,this._hasOwnPendingAsyncValidator=!0;let e=Lt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new te,this.statusChanges=new te}_calculateStatus(){return this._allControlsDisabled()?Y:this.errors?me:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(H)?H:this._anyControlsHaveStatus(me)?me:Z}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){_e(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Bn(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=$n(this._rawAsyncValidators)}};var We=new w("CallSetDisabledState",{providedIn:"root",factory:()=>Ce}),Ce="always";function Wn(n,t){return[...t.path,n]}function zn(n,t,e=Ce){Zn(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),Yn(n,t),Xn(n,t),Kn(n,t),qn(n,t)}function Pt(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function qn(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Zn(n,t){let e=jn(n);t.validator!==null?n.setValidators(Tt(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=Hn(n);t.asyncValidator!==null?n.setAsyncValidators(Tt(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Pt(t._rawValidators,r),Pt(t._rawAsyncValidators,r)}function Yn(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Zt(n,t)})}function Kn(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Zt(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function Zt(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Xn(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function Jn(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Qn(n){return Object.getPrototypeOf(n.constructor)===Ht}function ei(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===ve?e=o:Qn(o)?i=o:r=o}),r||i||e||null}function Rt(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function xt(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var ti=class extends Ue{constructor(t=null,e,i){super(Ln(e),Un(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_e(e)&&(e.nonNullable||e.initialValueIsDefault)&&(xt(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Rt(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Rt(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){xt(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var ni={provide:G,useExisting:K(()=>ze)},kt=Promise.resolve(),ze=(()=>{class n extends G{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new ti,this._registered=!1,this.name="",this.update=new te,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=ei(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Jn(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){zn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){kt.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&ft(i);kt.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Wn(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(f(Le,9),f(Nn,10),f(Pn,10),f($e,10),f(dt,8),f(We,8))}}static{this.\u0275dir=T({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[x.None,"disabled","isDisabled"],model:[x.None,"ngModel","model"],options:[x.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[de([ni]),k,Je]})}}return n})();var ii={provide:$e,useExisting:K(()=>qe),multi:!0};var ri=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e){this._accessors.splice(i,1);return}}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return e[0].control?e[0]._parent===i._control._parent&&e[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qe=(()=>{class n extends Ht{constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=y(We,{optional:!0})??Ce}ngOnInit(){this._control=this._injector.get(G),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||n)(f(ie),f(ee),f(ri),f(et))}}static{this.\u0275dir=T({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&M("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[de([ii]),k]})}}return n})();var oi=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=J({type:n})}static{this.\u0275inj=X({})}}return n})();var Yt=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:We,useValue:e.callSetDisabledState??Ce}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=J({type:n})}static{this.\u0275inj=X({imports:[oi]})}}return n})();function ai(n,t){n&1&&c(0," \u{1F635} ")}function li(n,t){n&1&&c(0," \u{1F973} ")}function ui(n,t){if(n&1&&c(0),n&2){let e=P();$(" ",e.currentEmoji()," ")}}var Kt=(()=>{class n{constructor(){this.gameService=y(S),this.gameStatus=this.gameService.gameStatus,this.gameTime=this.gameService.gameTime,this.GameStatusType=b,this.selectedDifficulty=this.gameService.difficulty,this.currentEmoji=this.gameService.currentEmoji}restartGame(){console.log("start"),this.gameService.startGame()}formatTime(e){let i=Math.floor(e/60).toString().padStart(2,"0"),r=(e%60).toString().padStart(2,"0");return`${i}:${r}`}updateDifficulty(){this.gameService.setDifficulty(this.selectedDifficulty)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=v({type:n,selectors:[["app-board-header"]],standalone:!0,features:[_],decls:26,vars:5,consts:[[1,"board_header"],[1,"emoji-btn",3,"click"],[1,"board_timer"],[1,"game_difficulty"],["type","radio","id","easy","name","difficulty","value","EASY",3,"ngModelChange","ngModel"],["for","easy"],["type","radio","id","medium","name","difficulty","value","MEDIUM",3,"ngModelChange","ngModel"],["for","medium"],["type","radio","id","hard","name","difficulty","value","HARD",3,"ngModelChange","ngModel"],["for","hard"],[3,"click"]],template:function(i,r){i&1&&(l(0,"div",0)(1,"button",1),M("click",function(){return r.restartGame()}),re(2,ai,1,0)(3,li,1,0)(4,ui,1,1),u(),l(5,"div",2),c(6),u(),l(7,"div",3)(8,"fieldset")(9,"legend"),c(10,"Select a game difficulty:"),u(),l(11,"div")(12,"input",4),ce("ngModelChange",function(s){return ue(r.selectedDifficulty,s)||(r.selectedDifficulty=s),s}),u(),l(13,"label",5),c(14,"Easy (8 x 8)"),u()(),l(15,"div")(16,"input",6),ce("ngModelChange",function(s){return ue(r.selectedDifficulty,s)||(r.selectedDifficulty=s),s}),u(),l(17,"label",7),c(18,"Medium (16 x 16)"),u()(),l(19,"div")(20,"input",8),ce("ngModelChange",function(s){return ue(r.selectedDifficulty,s)||(r.selectedDifficulty=s),s}),u(),l(21,"label",9),c(22,"Hard (20 x 20)"),u()(),l(23,"div")(24,"button",10),M("click",function(){return r.updateDifficulty()}),c(25,"Update"),u()()()()()),i&2&&(D(2),se(2,r.gameStatus()===r.GameStatusType.LOST?2:r.gameStatus()===r.GameStatusType.WON?3:4),D(4),$(" ",r.formatTime(r.gameTime())," "),D(6),le("ngModel",r.selectedDifficulty),D(4),le("ngModel",r.selectedDifficulty),D(4),le("ngModel",r.selectedDifficulty))},dependencies:[Yt,ve,qe,qt,ze],styles:[".board_header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;gap:1.5rem;margin:auto auto 15px;background-color:#bdbdbd;border:3px solid;border-bottom-color:#fff;border-left-color:#7b7b7b;border-top-color:#7b7b7b;border-right-color:#fff}.board_header[_ngcontent-%COMP%]   .emoji-btn[_ngcontent-%COMP%]{font-size:2rem;border:3px solid;border-top-color:#fff;border-right-color:#7b7b7b;border-bottom-color:#7b7b7b;border-left-color:#fff;background-color:#bdbdbd}.board_header[_ngcontent-%COMP%]   .board_timer[_ngcontent-%COMP%]{font-family:digital;font-size:2.2rem;color:#ff2c2c;background-color:#000;padding:.4rem;border-radius:2px;text-align:center;letter-spacing:.15rem;text-shadow:0 0 5px #ff2c2c,0 0 10px #ff2c2c;width:fit-content;box-shadow:inset 0 0 10px #222;display:inline-block;display:flex;justify-content:center;align-items:center;height:2.5rem;width:6rem}.game_difficulty[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;text-align:left}"]})}}return n})();var Xt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=v({type:n,selectors:[["app-frame"]],standalone:!0,features:[_],decls:3,vars:0,consts:[[1,"frame"]],template:function(i,r){i&1&&(l(0,"div",0),ae(1,"app-board-header")(2,"app-board"),u())},dependencies:[Kt,Ft],styles:[".frame[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:fit-content;padding:20px;border:3px solid;border-top-color:#fff;border-right-color:#7b7b7b;border-bottom-color:#7b7b7b;border-left-color:#fff;background-color:#bdbdbd}"]})}}return n})();var Jt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=v({type:n,selectors:[["app-root"]],standalone:!0,features:[_],decls:2,vars:0,template:function(i,r){i&1&&ae(0,"app-header")(1,"app-frame")},dependencies:[It,Xt]})}}return n})();wt(Jt,Vt).catch(n=>console.error(n));
